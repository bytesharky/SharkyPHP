# 项目更新说明

***

## 2024-11-9

### 内容修正

- 更正说明文档几处内容错误

- 修改链接为相对链接，方便查阅

### 功能改进

- 修复模板翻译功能的BUG

- 修复Linux上的兼容问题

- 修复 `Database` 类中 `execute` 方法在 `mysqli` 模式的异常。

- 将自定义的 `Exception` 更名为 `SharkyException` 防止Try中意外捕获此类导致预期外的异常

## 2024-11-6

### 新增功能

- 修复已知的问题。

- 引入多站点复用框架的功能。

### 功能改进

- **简单容器**：实现 `make` 时自动绑定。
- **异常处理**：创建新的类，将异常处理从App类分离出来。
- **数据集合**：创建新的类，用于存储数据库查询的记录。
- **配置文件类**：更新加载逻辑，使其能够支持多站点模式。
- **数据库类**：增加 `runTransaction` 函数，该函数接收一个回调函数，会依据此回调函数的返回值（ `true` / `false` ）自动控制提交和回滚操作，同时依然可以通过 `beginTransaction` 、 `commit` 、 `rollback` 进行手动控制。
- **模型类**：对查询返回进行修改，返回结果不再是数组形式。其中， `find` 方法返回的是填充数据的模型，可继续进行链式操作； `select` 方法返回的是模型的集合，能够使用 `foreach` 循环进行遍历，且同样可继续链式操作。若想要获取数组形式的结果，可使用 `toArray` 方法。
- **路由类**：更新支持逻辑，以适配多站点模式，并且修复了url中出现问号导致404的问题。
- **模版引擎**：更新加载逻辑，以支持多站点模式。
- **启动程序**：更新加载逻辑，以支持多站点模式。

### 内容修正

- 增加说明文档，由AI生成后整理，有待完善...

### 其他调整

- 将 `common.php` 文件改为公共函数文件，用于存放全局函数。
- 新建 `constants.php` 文件，用于存放全局常量。

## 2024-11-5

### 功能改进

- 重新实现功能更丰富的模板引擎。

## 2024-11-4

### 内容修正

- 修改几处内容错误。

## 2024-11-3

### 项目进展

- 首次发布。

## 2024-11-1

### 项目启动

- 立项，突然想创建个项目玩。
